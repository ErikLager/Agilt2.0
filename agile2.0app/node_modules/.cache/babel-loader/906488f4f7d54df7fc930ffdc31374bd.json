{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oscar\\\\OneDrive\\\\Documents\\\\GitHub\\\\Agilt2.0\\\\agile2.0app\\\\src\\\\views\\\\AdminCreateCategory\\\\AdminCreateCategory.jsx\",\n    _s = $RefreshSig$();\n\nimport styles from './AdminCreateCategory.module.css';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AdminCreateCategory = () => {\n  _s();\n\n  const PORT = process.env.REACT_APP_PORT;\n  const [postWasSent, setPostWasSent] = useState(false);\n  const [postError, setPostError] = useState(false);\n  const [formData, setFormData] = useState({\n    name: ''\n  });\n\n  const onSubmit = e => {\n    e.preventDefault();\n    console.log(formData);\n    postCategory(formData);\n    resetFormData();\n  };\n\n  async function postCategory(categoryData) {\n    console.log(categoryData);\n    const res = await fetch(`http://localhost:${PORT}/api/newcategory`, {\n      method: 'post',\n      body: JSON.stringify({\n        name: categoryData.name\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await res.json();\n\n    if (!data.msg.msgError) {\n      console.log('it is cool bro');\n      setPostWasSent(true);\n    } else {\n      setPostError(true);\n    }\n  }\n\n  function handleInput(e) {\n    console.log(e.target.value);\n    console.log(e.target.name);\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function resetFormData() {\n    setFormData({\n      name: ''\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create new category here!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        className: \"contactus-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Enter category name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            className: \"form-control\",\n            onChange: handleInput,\n            value: formData.name,\n            onFocus: () => setPostWasSent(false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"Submit-btn\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 6\n        }, this), postWasSent && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Cool! New category was added!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 22\n        }, this), postError && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Hmmm, couldn't set category right now.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(AdminCreateCategory, \"IeZdeiCPcDK5P5C/W0XK0x7Da1U=\");\n\n_c = AdminCreateCategory;\nexport default AdminCreateCategory;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminCreateCategory\");","map":{"version":3,"sources":["C:/Users/Oscar/OneDrive/Documents/GitHub/Agilt2.0/agile2.0app/src/views/AdminCreateCategory/AdminCreateCategory.jsx"],"names":["styles","useEffect","useState","AdminCreateCategory","PORT","process","env","REACT_APP_PORT","postWasSent","setPostWasSent","postError","setPostError","formData","setFormData","name","onSubmit","e","preventDefault","console","log","postCategory","resetFormData","categoryData","res","fetch","method","body","JSON","stringify","headers","data","json","msg","msgError","handleInput","target","value","container"],"mappings":"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","sourcesContent":["import styles from './AdminCreateCategory.module.css'\r\nimport { useEffect, useState } from 'react'\r\n\r\nconst AdminCreateCategory = () => {\r\n\tconst PORT = process.env.REACT_APP_PORT\r\n\tconst [postWasSent, setPostWasSent] = useState(false)\r\n\tconst [postError, setPostError] = useState(false)\r\n\t\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname: ''\r\n\t})\r\n\t\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\t\tconsole.log(formData)\r\n\t\tpostCategory(formData)\r\n\t\tresetFormData()\r\n\t}\r\n\t\r\n\tasync function postCategory(categoryData) {\r\n\t\tconsole.log(categoryData)\r\n\t\tconst res = await fetch(`http://localhost:${PORT}/api/newcategory`, {\r\n\t\t\tmethod: 'post',\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: categoryData.name\r\n\t\t\t}),\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\"\r\n\t\t\t},\r\n\t\t})\r\n\t\tconst data = await res.json()\r\n\t\tif (!data.msg.msgError) {\r\n\t\t\tconsole.log('it is cool bro')\r\n\t\t\tsetPostWasSent(true)\r\n\t\t} else {\r\n\t\t\tsetPostError(true)\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction handleInput(e) {\r\n\t\tconsole.log(e.target.value)\r\n\t\tconsole.log(e.target.name)\r\n\t\tsetFormData({...formData, [e.target.name]: e.target.value})\r\n\t}\r\n\t\r\n\tfunction resetFormData() {\r\n\t\tsetFormData({\r\n\t\t\tname: '',\r\n\t\t})\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={styles.container}>\r\n\t\t\t\t<h2>Create new category here!</h2>\r\n\t\t\t\t<form onSubmit={onSubmit} className=\"contactus-form\">\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"name\">Enter category name</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tonChange={handleInput}\r\n\t\t\t\t\t\t\tvalue={formData.name}\r\n\t\t\t\t\t\t\tonFocus={() => setPostWasSent(false)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"Submit-btn\">Submit</button>\r\n\t\t\t\t\t{postWasSent && <p>Cool! New category was added!</p>}\r\n\t\t\t\t\t{postError && <p>Hmmm, couldn't set category right now.</p>}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default AdminCreateCategory\r\n"]},"metadata":{},"sourceType":"module"}